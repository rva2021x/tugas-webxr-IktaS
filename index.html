<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Pong! - A-Frame</title>
		<meta name="description" content="Pong! - A-Frame" />
		<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
		<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r134/examples/js/deprecated/Geometry.js"></script>
		<script src="./js/aframe-physics-system.min.js"></script>
		<script src="./js/paddle.js"></script>
	</head>
	<body>
		<a-scene
			physics="debug: true; gravity: -9.8; debugDrawMode: 1; restitution: 1.05; iterations: 1000; maxInterval: 0.00667"
		>
			<a-camera near="0.001"></a-camera>
			<a-assets>
				<img id="sky" src="./assets/veranda_4k.png" />
				<a-asset-item id="ball" src="./assets/ball.glb"></a-asset-item>
				<a-asset-item
					id="halftable"
					src="./assets/halftable.glb"
				></a-asset-item>
				<!-- <a-asset-item
					id="enviroment"
					src="./assets/enviroment.glb"
				></a-asset-item>
				<a-asset-item
					id="enviromentfloor"
					src="./assets/enviromentfloor.glb"
				></a-asset-item> -->
				<a-asset-item id="net" src="./assets/net.glb"></a-asset-item>
				<a-asset-item id="paddle" src="./assets/paddle.glb"></a-asset-item>
				<audio id="toksound" src="./assets/hitsound.mp3" preload="auto"></audio>
			</a-assets>
			<a-sky src="#sky"></a-sky>
			<a-entity
				gltf-model="#net"
				position="0 1 -2"
				scale="0.01 0.01 0.01"
				static-body
			></a-entity>
			<a-entity
				gltf-model="#halftable"
				position="0 1 -2"
				scale="0.01 0.01 0.01"
				static-body
			></a-entity>
			<a-entity
				gltf-model="#halftable"
				position="0 1.1 -2.1"
				rotation="-90 180 0"
				scale="0.01 0.01 0.01"
				static-body
			></a-entity>
			<a-entity
				id="ballentity"
				a-pong-ball="handEl: #handleft; counter: #counter"
				gltf-model="#ball"
				position="0 2 -1"
				scale="0.001 0.001 0.00r1"
				dynamic-body="shape: sphere;"
				sound="src: #toksound;"
			></a-entity>
			<a-entity id="handleft" oculus-touch-controls="hand: left"></a-entity>
			<a-entity
				id="handright"
				oculus-touch-controls="hand: right; model: false"
			>
				<a-entity
					a-paddle="counter: #counter"
					gltf-model="#paddle"
					scale="0.001 0.001 0.001"
					rotation="12.264 -95.579 -39.995"
					position="0.005 0.053 -0.071"
					static-body
				></a-entity>
			</a-entity>
			<a-text
				value="Rally: "
				width="3"
				align="center"
				position="-0.577 2.367 -1.992"
			></a-text>
			<a-text
				id="countertext"
				value="0"
				width="3"
				align="center"
				position="-0.377 2.167 -1.992"
			></a-text>
			<a-entity id="counter" counter="text: #countertext"></a-entity>
			<script src="./js/ball.js"></script>
			<script src="./js/index.js"></script>
			<script src="./js/counter.js"></script>
		</a-scene>
	</body>
</html>
